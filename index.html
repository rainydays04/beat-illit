<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Persona Rythym Game</title>
    <style>
        body{
            background-color: #646464;
            text-align:center;
        }
    canvas{
        background: url("background.png") no-repeat;
        background-size:cover;
        border: 2px solid black;
    }
    </style>
</head>
<body>
    <h1>
        Rythym game
    </h1>
    <canvas width="900" height="540"></canvas>    
    <script>
        var canvas =document.querySelector("canvas");
        var drawingSurface=canvas.getContext("2d");
        var spriteObject ={
            x:0,
            y:0,
            width:64,
            height:64
        }

        var icon = Object.create(spriteObject);
        icon.x=100;
        icon.y=100;
        var image=new Image();
        image.addEventListener("load", loadHandler)
        image.src="sprite.png"
        var Xspeed =0;
        var moveLeft= false;
        var moveRight=false;


        window.addEventListener("keydown", function(e)
        {
            switch(e.key)
            {
                case "ArrowRight":
                    moveRight =true;
                    break;
                case "ArrowLeft":
                    moveLeft=true;
                    break;
            }
        }, false);

        window.addEventListener("keyup", function(e)
        {
            switch(e.key)
            {
                case "ArrowRight":
                    moveRight =false;
                    break;
                case "ArrowLeft":
                    moveLeft=false;
                    break;
            }
        }, false);

        function loadHandler(){
            update();
        }
        function update(){
            window.requestAnimationFrame(update, canvas);
            icon.x+=Xspeed;

            if (moveLeft && !moveRight){
                Xspeed=-5;
            }
            if (moveRight && !moveLeft){
                Xspeed=5;
            }
            if (!moveRight&& !moveLeft){
                Xspeed=0;
            }
            if(icon.x<0){
                Xspeed=0;
            }
        }
        function render(){

        }
    
    </script>
</body>
</html>